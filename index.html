<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>TBTK by dafer45</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-73777134-1', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">TBTK</h1>
      <h2 class="project-tagline">Tight-Binding ToolKit</h2>
      <a href="https://github.com/dafer45/TBTK" class="btn">View on GitHub</a>
      <a href="https://github.com/dafer45/TBTK/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/dafer45/TBTK/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="welcome-to-the-project-page-for-tbtk" class="anchor" href="#welcome-to-the-project-page-for-tbtk" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Welcome to the project page for TBTK</h1>

<p>TBTK is a c++ library for solving general bilinear Hamiltonians.
A flexible indexing scheme allows for general models to be setup with little effort.
The model can either be solved using a DiagonalizationSolver, giving eigenstates and eigenvectors, or using a ChebyshevSolver to calculate Green's functions.</p>

<p>Note: The library is in beta stage and rapid changes to the code base can occur. It is therefore advised that a local copy of the library is created before updating it in case important projects are dependent on it.</p>

<h2>
<a id="introductory-material" class="anchor" href="#introductory-material" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Introductory material</h2>

<p><a href="https://github.com/dafer45/TBTK/blob/gh-pages/files/QuickStart.pdf">Quick start</a><br>
<a href="https://github.com/dafer45/TBTK/blob/gh-pages/files/presentation.pdf">Presentation</a><br>
<a href="https://github.com/dafer45/TBTK/tree/master/Templates">Templates</a> (see src/main.cpp in each template folder)<br>
<a href="http://dafer45.github.io/TBTK/doc/html/index.html">API</a></p>

<h2>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Example</h2>

<p>Setting up and diagonalizing a two dimensional tight-binding model with chemical potential mu and nearest neighbor hopping t. Eigenvalues and DOS are extracted and written to file.</p>

<pre><code>//Create model and set up hopping parameters
Model model;
for(int x = 0; x &lt; SIZE_X; x++){
    for(int y = 0; y &lt; SIZE_Y; y++){
        for(int s = 0; s &lt; 2; s++){
            //Add hopping amplitudes corresponding to chemical potential
            model.addHA(HoppingAmplitude(-mu,   {x, y, s},  {x, y, s}));

            //Add hopping amplitudes corresponding to t
            if(x+1 &lt; SIZE_X)
                model.addHAAndHC(HoppingAmplitude(-t,   {(x+1)%SIZE_X, y, s},   {x, y, s}));
            if(y+1 &lt; SIZE_Y)
                model.addHAAndHC(HoppingAmplitude(-t,   {x, (y+1)%SIZE_Y, s},   {x, y, s}));
        }
    }
}

//Construct model
model.construct();

//Setup and run DiagonalizationSolver
DiagonalizationSolver dSolver;
dSolver.setModel(&amp;model);
dSolver.run();

//Set filename and remove any file already in the folder
FileWriter::setFileName("TBTKResults.h5");
FileWriter::clear();

//Create DPropertyExtractor
DPropertyExtractor pe(&amp;dSolver);

//Extract eigenvalues and write these to file
Property::EigenValues *ev = pe.getEigenValues();
FileWriter::writeEigenValues(ev);
delete ev;

//Extract DOS and write to file
const double UPPER_LIMIT = 6.;
const double LOWER_LIMIT = -4.;
const int RESOLUTION = 1000;
Property::DOS *dos = pe.calculateDOS(UPPER_LIMIT, LOWER_LIMIT, RESOLUTION);
FileWriter::writeDOS(dos);
delete dos;
</code></pre>

<p>DOS calculated using SIZE_X=SIZE_Y=40 and plotted using Gaussian smoothing with sigma=0.1.
<img src="https://raw.githubusercontent.com/dafer45/TBTK/gh-pages/pictures/DOS_BasicDiagonalization_40x40.png" width="50%"></p>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<p>Currently the library can only be installed without modification if the computer has gcc 4.9 and nvcc 7.0 installed, and these can be loaded using "module load gcc/4.9" and "module load nvcc/7.0". If this is the case, type</p>

<pre><code>git clone https://github.com/dafer45/TBTK
cd TBTK
source init_session.sh
./install.sh -CUDA
</code></pre>

<p>If CUDA is not available it is also possible to install the library without support for GPU by typing</p>

<pre><code>git clone https://github.com/dafer45/TBTK
cd TBTK
source init_session.sh
./install.sh
</code></pre>

<p>If you are interested in installing the library on a different system, contact <a href="mailto:kristofer.bjornson@physics.uu.se">kristofer.bjornson@physics.uu.se</a> for further instructions.</p>

<h2>
<a id="update" class="anchor" href="#update" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Update</h2>

<p>To update to the latest version of the library, type</p>

<pre><code>git pull
source init_session.sh
./update.sh -CUDA
</code></pre>

<p>To update the library without CUDA support, type</p>

<pre><code>git pull
source init_session.sh
./update.sh
</code></pre>

<h2>
<a id="initialize-session" class="anchor" href="#initialize-session" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Initialize session</h2>

<p>Each time a new session is started by opening a new shell, the library has to be initialized by entering the library folder and typing</p>

<pre><code>source init_session.sh
</code></pre>

<h2>
<a id="compile-and-run-templates" class="anchor" href="#compile-and-run-templates" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compile and run Templates</h2>

<p>Enter the template folder, for example Templates/BasicDiagonalization, and type</p>

<pre><code>make
./build/a.out
</code></pre>

<p>The results are now stored in the file TBTKResults.h5. These can further be plotted and saved in the folder figures by typing</p>

<pre><code>./plot.sh
</code></pre>

<p>Note that plotting only is possible if python as well as the python libraries matplotlib, scipy, and h5py are installed on the computer.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/dafer45/TBTK">TBTK</a> is maintained by <a href="https://github.com/dafer45">dafer45</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
